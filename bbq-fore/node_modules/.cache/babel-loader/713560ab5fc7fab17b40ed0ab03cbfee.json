{"remainingRequest":"D:\\项目\\bbq1\\new_bbq_code\\bbq-fore\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\bbq1\\new_bbq_code\\bbq-fore\\src\\permission.js","dependencies":[{"path":"D:\\项目\\bbq1\\new_bbq_code\\bbq-fore\\src\\permission.js","mtime":1665485286432},{"path":"D:\\项目\\bbq1\\new_bbq_code\\bbq-fore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665485281075},{"path":"D:\\项目\\bbq1\\new_bbq_code\\bbq-fore\\node_modules\\babel-loader\\lib\\index.js","mtime":1665485280411}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9yb3V0ZXIiOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlQXV0aDsKICB9KSkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tIiArIHRva2VuKTsKCiAgICBpZiAodG9rZW4pIHsKICAgICAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7fSBlbHNlIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTs="},{"version":3,"sources":["D:/项目/bbq1/new_bbq_code/bbq-fore/src/permission.js"],"names":["router","beforeEach","to","from","next","matched","some","record","meta","requireAuth","token","localStorage","getItem","console","log","path"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEAA,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,WAAhB;AAAA,GAAtB,CAAJ,EAAwD;AAEtD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBJ,KAA7B;;AAEA,QAAIA,KAAJ,EAAW;AACT,UAAIR,EAAE,CAACa,IAAH,KAAY,QAAhB,EAA0B,CAEzB,CAFD,MAEO;AACLX,QAAAA,IAAI;AACL;AACF,KAND,MAMO;AACLA,MAAAA,IAAI,CAAC;AACHW,QAAAA,IAAI,EAAE;AADH,OAAD,CAAJ;AAGD;AACF,GAhBD,MAgBO;AACLX,IAAAA,IAAI;AACL;AACF,CArBD","sourcesContent":["import router from \"./router\";\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n  if (to.matched.some(record => record.meta.requireAuth)) { \r\n\r\n    const token = localStorage.getItem(\"token\")\r\n    console.log(\"------------\" + token)\r\n\r\n    if (token) { \r\n      if (to.path === '/login') {\r\n\r\n      } else {\r\n        next()\r\n      }\r\n    } else {\r\n      next({\r\n        path: '/login'\r\n      })\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})"]}]}